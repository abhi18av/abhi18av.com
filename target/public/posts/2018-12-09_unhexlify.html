<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport"><link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"><link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"><link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"><link href="/manifest.json" rel="manifest"><link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon"><meta content="#ffffff" name="theme-color"><link href="/css/normalize.css" rel="stylesheet"><link href="/css/app.css" rel="stylesheet"><title>Python’s binascii – hexlify() and unhexlify() - 200ok</title><link href="/rss.xml" rel="alternate" title="200ok - Consultancy, Research Lab, Incubator" type="application/rss+xml"><link href="/atom.xml" rel="alternate" title="200ok - Consultancy, Research Lab, Incubator" type="application/atom+xml"><meta content="Python’s binascii – hexlify() and unhexlify() - 200ok" property="og:title"><meta content="article" property="og:type"><meta property="og:description"><meta content="https://200ok.ch/posts/2018-12-09_unhexlify.html" property="og:url"><meta content="https://200ok.ch/img/logo.png" property="og:image"><meta content="summary" name="twitter:card"><meta content="@twohundredok" name="twitter:site"><meta content="Python’s binascii – hexlify() and unhexlify() - 200ok" name="twitter:title"><meta content="https://200ok.ch/img/logo.png" name="twitter:image"><meta name="twitter:description"><link href="https://200ok.ch/posts/2018-12-09_unhexlify.html" rel="canonical"><link href="/css/styles/solarized-light.css" rel="stylesheet"></head><body id="blog" itemscope itemtype="http://schema.org/Blog"><div class="top-bar"><div class="top-bar-left"><top-bar-title itemprop="image"><a href="/" id="logo"><img src="/img/200ok.svg"></a></top-bar-title></div><div class="top-bar-right"><ul class="menu"><li><a href="/blog.html">Blog</a></li><li><a href="/projects.html">Projects</a></li><li><a href="/team.html">Team</a></li><li><a href="/atom.xml" id="atom-feed"><span>&nbsp;</span>Feed</a></li></ul></div></div><main class="single-post"><div id="content"><article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting"><h3 class="headline" itemprop="headline"><a class="nunito" href="/posts/2018-12-09_unhexlify.html" itemprop="url">Python’s binascii – hexlify() and unhexlify()</a></h3><div class="subheader"><p class="post-meta"><time itemprop="datePublished">2009-12-09</time> - <span itemprop="wordCount">574</span> words - <span itemprop="timeRequired">4</span> min read</p><div class="byline"><img class="author-icon" src="/img/author.svg"><section class="author" itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="name">Alain M. Lafon</span></section></div></div><span itemprop="image" itemscope itemtype="https://schema.org/ImageObject"><meta content="190" itemprop="height"><meta content="349" itemprop="width"><meta content="https://200ok.ch/img/logo.png" itemprop="url"></span><div><div class="article-body" itemprop="articleBody"><p>Some time ago, a dear friend of mine came up to me and asked about the Python module binascii – particularly about the methods <code>hexlify()</code> and <code>unhexlify()</code>. Since he asked for it, I’m going to share my answer publicly with you.</p>
<p>First of all, I’m defining the used nomenclature:</p>
<pre><code>- ASCII characters are being written in single quotes
- decimal numbers are of the type Long with a L suffix
- hex values have a x prefix</code></pre>
<p>First, let me quote the documentation:</p>
<blockquote>
<p>binascii.b2a_hex(data) binascii.hexlify(data) Return the hexadecimal representation of the binary data. Every byte of data is converted into the corresponding 2-digit hex representation. The resulting string is therefore twice as long as the length of data.</p>
</blockquote>
<blockquote>
<p>binascii.a2b_hex(hexstr) binascii.unhexlify(hexstr) Return the binary data represented by the hexadecimal string hexstr. This function is the inverse of b2a_hex(). hexstr must contain an even number of hexadecimal digits (which can be upper or lower case), otherwise a TypeError is raised.</p>
</blockquote>
<p>I’ll begin with <code>hexlify()</code>. As the documentation states, this method splits a string which consists of hex-tuples into distinct bytes.</p>
<p>The ASCII character ‘A’ has 65L as numerical representation. To verify this in Python:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb2-1" title="1"><span class="bu">long</span>(<span class="bu">ord</span>(<span class="st">&#39;A&#39;</span>))</a>
<a class="sourceLine" id="cb2-2" title="2">65L</a></code></pre></div>
<p>You might ask “Why is this even relevant to understand binascii?” Well, we don’t know anything about how ord() does its job. But with binascii we can re-calculate manually and verify.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb3-1" title="1">binascii.hexlify(<span class="st">&#39;A&#39;</span>)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">&#39;41&#39;</span></a></code></pre></div>
<p>Now we know that an ‘A’ – interpreted as binary data and shown in hex – resembles ’41’. But wait, ’41’ is a string and no hex value! That’s no biggy, <code>hexlify()</code> represents its result as string.</p>
<p>To stay with the example, let’s convert 41 into a decimal number and check if it equals 65L.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb4-1" title="1"><span class="bu">long</span>(<span class="st">&#39;41&#39;</span>, <span class="dv">16</span>)</a>
<a class="sourceLine" id="cb4-2" title="2">65L</a></code></pre></div>
<p>Tada! It seems that ‘A’ = 41 = 65L. You might have known that already, but please, stay with me a minute longer.</p>
<p>To make it look a little more complex:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb5-1" title="1">binascii.hexlify(<span class="st">&#39;A&#39;</span>) <span class="op">==</span> <span class="st">&#39;</span><span class="sc">%x</span><span class="st">&#39;</span> <span class="op">%</span> <span class="bu">long</span>(<span class="st">&#39;41&#39;</span>, <span class="dv">16</span>)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="va">True</span></a></code></pre></div>
<p>Be aware that <code>'%x' % n</code> converts a decimal number <code>n</code> into its hex representation.</p>
<hr/>
<p><code>binascii.unhexlify()</code> naturally does the same thing as <code>hexlify()</code>, but in reverse. It takes binary data and displays it in tuples of hex-values.</p>
<p>I’ll start off with an example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb6-1" title="1">binascii.unhexlify(<span class="st">&#39;41&#39;</span>)</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="co">&#39;A&#39;</span></a></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb7-1" title="1">binascii.unhexlify(<span class="st">&#39;</span><span class="sc">%x</span><span class="st">&#39;</span> <span class="op">%</span> <span class="bu">ord</span>(<span class="st">&#39;A&#39;</span>))</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="co">&#39;A&#39;</span></a></code></pre></div>
<p>Here, <code>unhexlify()</code> takes the numerical representation 65L from the ASCII character ‘A’</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb8-1" title="1"><span class="bu">ord</span>(<span class="st">&#39;A&#39;</span>)</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="dv">65</span></a></code></pre></div>
<p>converts it into hex 41</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb9-1" title="1"><span class="co">&#39;%x&#39;</span> <span class="op">%</span> <span class="bu">ord</span>(<span class="st">&#39;A&#39;</span>)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co">&#39;41&#39;</span></a></code></pre></div>
<p>and represents it as a 1-tuple (meaning dimension of one) of hex values.</p>
<p>And now the conclusio – why might all of this be useful? Right now, I can think of at least four use cases:</p>
<ul>
<li>cryptography</li>
<li>data-transformation (i.e. Base64 for MIME/E-Mail attachments)</li>
<li>security (deciphering binary readings off a network, pattern matching, …)</li>
<li>textual representation of escape sequences</li>
</ul>
<p>Taking up the last example, I’ll show you how to visualize the Bell escape sequence (you know, that thing that keeps beeping in your terminal). Taken from the ASCII table, the numerical representation of the Bell is 7. Programmers might know it better as <code>\a</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb10-1" title="1"><span class="bu">ord</span>(<span class="st">&#39;</span><span class="ch">\a</span><span class="st">&#39;</span>) <span class="op">==</span> <span class="dv">7</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="va">True</span></a></code></pre></div>
<p>Presuming you read such a character in some kind of binary data – for example from a socket and you want to visualize this data with <code>print</code>, you will not get any results – at least none visible. You might hear the Bell sound if you’re not on a silent terminal.</p>
<p>Now, finally – binascii to the rescue:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb11-1" title="1">binascii.hexlify(<span class="st">&#39;</span><span class="ch">\a</span><span class="st">&#39;</span>)</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="co">&#39;07&#39;</span></a></code></pre></div>
<p>Voilà, the dubious string is decrypted.</p>
</div><div class="tags"><img class="tag-icon" src="/img/tag.svg"><ul itemprop="keywords"><li class="category"><a href="/category/python.html">python</a></li><li class="tag"><a href="/tags/python.html">#python</a></li></ul></div></div></article></div></main><footer><div itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><div class="name" itemprop="name">200ok GmbH</div><div itemprop="address" itemscope itemtype="https://schema.org/PostalAddress"><a href="https://goo.gl/maps/GNAoiNF7mbL2" title="View on Google Maps"><div itemprop="streetAddress">Badenerstrasse 313</div><div><span itemprop="postalCode">8003</span> <span itemprop="addressLocality">Zürich</span></div></a></div><div itemprop="telephone">+41 76 405 05 67</div><div itemprop="email"><a href="mailto:info@200ok.ch">info@200ok.ch</a></div><img itemprop="logo" src="https://200ok.ch/img/200ok.svg"></div></footer><div class="scripts" style="{:display &quot;none&quot;}"><script src="/js/vendor/bowser.min.js"></script><script async src="/js/ie_safeguard.js"></script><script async src="/js/tour.js"></script><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>tour=null</script></div></body></html>