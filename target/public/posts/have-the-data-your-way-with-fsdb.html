<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport"><link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"><link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"><link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"><link href="/manifest.json" rel="manifest"><link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon"><meta content="#ffffff" name="theme-color"><link href="/css/normalize.css" rel="stylesheet"><link href="/css/app.css" rel="stylesheet"><title>Have the data your way with fsdb - 200ok</title><link href="/rss.xml" rel="alternate" title="200ok - Consultancy, Research Lab, Incubator" type="application/rss+xml"><link href="/atom.xml" rel="alternate" title="200ok - Consultancy, Research Lab, Incubator" type="application/atom+xml"><meta content="Have the data your way with fsdb - 200ok" property="og:title"><meta content="article" property="og:type"><meta property="og:description"><meta content="https://200ok.ch/posts/have-the-data-your-way-with-fsdb.html" property="og:url"><meta content="https://200ok.ch/img/logo.png" property="og:image"><meta content="summary" name="twitter:card"><meta content="@twohundredok" name="twitter:site"><meta content="Have the data your way with fsdb - 200ok" name="twitter:title"><meta content="https://200ok.ch/img/logo.png" name="twitter:image"><meta name="twitter:description"><link href="https://200ok.ch/posts/have-the-data-your-way-with-fsdb.html" rel="canonical"><link href="/css/styles/solarized-light.css" rel="stylesheet"></head><body id="blog" itemscope itemtype="http://schema.org/Blog"><div class="top-bar"><div class="top-bar-left"><top-bar-title itemprop="image"><a href="/" id="logo"><img src="/img/200ok.svg"></a></top-bar-title></div><div class="top-bar-right"><ul class="menu"><li><a href="/blog.html">Blog</a></li><li><a href="/projects.html">Projects</a></li><li><a href="/team.html">Team</a></li><li><a href="/atom.xml" id="atom-feed"><span>&nbsp;</span>Feed</a></li></ul></div></div><main class="single-post"><div id="content"><article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting"><h3 class="headline" itemprop="headline"><a class="nunito" href="/posts/have-the-data-your-way-with-fsdb.html" itemprop="url">Have the data your way with fsdb</a></h3><div class="subheader"><p class="post-meta"><time itemprop="datePublished">2017-09-25</time> - <span itemprop="wordCount">366</span> words - <span itemprop="timeRequired">2</span> min read</p><div class="byline"><img class="author-icon" src="/img/author.svg"><section class="author" itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="name">Phil Hofmann</span></section></div></div><span itemprop="image" itemscope itemtype="https://schema.org/ImageObject"><meta content="190" itemprop="height"><meta content="349" itemprop="width"><meta content="https://200ok.ch/img/logo.png" itemprop="url"></span><div><div class="article-body" itemprop="articleBody"><p>I’m happy to be able to share one of the building blocks of the software solution I’m currently working on: <a href="https://gitlab.com/200ok/fsdb">fsdb</a> - a Clojure library that provides a reasonably convenient database on top of the file system.</p>
<p>Don’t get me wrong, I’m not talking about a file system database like sqlite here. I’m using the term database loosly. Think of a bunch of config files that make up a database that you want to query. That’s what fsdb can do for you. You point it to a directory and it reads the data from the directory tree and returns a data structure that you can query.</p>
<p>Ok enough talks, here is the example from the README…</p>
<pre><code>% tree example
example
├── people.edn
├── technologies.edn
└── technologies
    └── clojure.yml

$ cat example/people.edn
{:rich {:name &quot;Rich Hickey&quot;}}

$ cat example/technologies.edn
{:clojure {:year &quot;unknown&quot;}}

$ cat example/technologies/clojure.yml
---
year: 2007</code></pre>
<p>Reading this structure with <code>fsdb/read-tree</code> will result in the following data structure:</p>
<pre><code>{:example
 {:people {:rich {:name &quot;Rich Hickey&quot;}}
  :technologies {:clojure {:year 2007}}}}</code></pre>
<p>In the example you can observe multiple aspects of <code>fsdb</code>.</p>
<ul>
<li>The db is spread of multiple files, these will be merged deeply.</li>
<li>The files can have different formats.</li>
<li>Names of directories &amp; files make up the nesting of the resulting data structure.</li>
<li>Later (more specific entries) overwrite former.</li>
</ul>
<p>So “Having the data your way” means you get to decide when and where to split up your data file into subdirectories and smaller files, which makes it easier to keep track of your data.</p>
<p>In addition to structuring, there are many more reasons you might want to split a database into multiple files.</p>
<p>If your files are under Version Control, splitting them up means, reducing potential merge conflicts and you can even choose to exempt some files from being tracked.</p>
<p>You can also mix and match formats. Some data might be easier to edit in YAML than EDN, or the other way around. (Other formats can easily be supported. Drop me a line or send a Merge Request for the formats you might need.)</p>
<p>Maybe some of your files are generated by surrounding automation, <code>fsdb</code> will help you mix different sources into one queryable data structure.</p>
<p>Please find <a href="https://gitlab.com/200ok/fsdb">fsdb on Gitlab</a> and Clojars:</p>
<p><a href="https://clojars.org/fsdb"><img src="https://img.shields.io/clojars/v/fsdb.svg" alt="Clojars Project" /></a></p>
</div><div class="tags"><img class="tag-icon" src="/img/tag.svg"><ul itemprop="keywords"><li class="category"><a href="/category/clojure.html">clojure</a></li><li class="tag"><a href="/tags/opensource.html">#opensource</a></li><li class="tag"><a href="/tags/clojure.html">#clojure</a></li><li class="tag"><a href="/tags/filesystem.html">#filesystem</a></li><li class="tag"><a href="/tags/database.html">#database</a></li></ul></div></div></article></div></main><footer><div itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><div class="name" itemprop="name">200ok GmbH</div><div itemprop="address" itemscope itemtype="https://schema.org/PostalAddress"><a href="https://goo.gl/maps/GNAoiNF7mbL2" title="View on Google Maps"><div itemprop="streetAddress">Badenerstrasse 313</div><div><span itemprop="postalCode">8003</span> <span itemprop="addressLocality">Zürich</span></div></a></div><div itemprop="telephone">+41 76 405 05 67</div><div itemprop="email"><a href="mailto:info@200ok.ch">info@200ok.ch</a></div><img itemprop="logo" src="https://200ok.ch/img/200ok.svg"></div></footer><div class="scripts" style="{:display &quot;none&quot;}"><script src="/js/vendor/bowser.min.js"></script><script async src="/js/ie_safeguard.js"></script><script async src="/js/tour.js"></script><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>tour=null</script></div></body></html>