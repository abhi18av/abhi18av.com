<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport"><link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"><link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"><link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"><link href="/manifest.json" rel="manifest"><link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon"><meta content="#ffffff" name="theme-color"><link href="/css/normalize.css" rel="stylesheet"><link href="/css/app.css" rel="stylesheet"><title>Disable MU4E 'HTML over plain text' heuristic - 200ok</title><link href="/rss.xml" rel="alternate" title="200ok - Consultancy, Research Lab, Incubator" type="application/rss+xml"><link href="/atom.xml" rel="alternate" title="200ok - Consultancy, Research Lab, Incubator" type="application/atom+xml"><meta content="If you&apos;re a mu4e user and you&apos;re seeing way too many HTML emails, consider changing a built in preset." name="description"><meta content="Disable MU4E &apos;HTML over plain text&apos; heuristic - 200ok" property="og:title"><meta content="article" property="og:type"><meta content="If you&apos;re a mu4e user and you&apos;re seeing way too many HTML emails, consider changing a built in preset." property="og:description"><meta content="https://200ok.ch/posts/2018-10-25_disable_mu4e_html_over_plain_text_heuristic.html" property="og:url"><meta content="https://200ok.ch/img/logo.png" property="og:image"><meta content="summary" name="twitter:card"><meta content="@twohundredok" name="twitter:site"><meta content="Disable MU4E &apos;HTML over plain text&apos; heuristic - 200ok" name="twitter:title"><meta content="https://200ok.ch/img/logo.png" name="twitter:image"><meta content="If you&apos;re a mu4e user and you&apos;re seeing way too many HTML emails, consider changing a built in preset." name="twitter:description"><link href="https://200ok.ch/posts/2018-10-25_disable_mu4e_html_over_plain_text_heuristic.html" rel="canonical"><link href="/css/styles/solarized-light.css" rel="stylesheet"></head><body id="blog" itemscope itemtype="http://schema.org/Blog"><div class="top-bar"><div class="top-bar-left"><top-bar-title itemprop="image"><a href="/" id="logo"><img src="/img/200ok.svg"></a></top-bar-title></div><div class="top-bar-right"><ul class="menu"><li><a href="/blog.html">Blog</a></li><li><a href="/projects.html">Projects</a></li><li><a href="/team.html">Team</a></li><li><a href="/atom.xml" id="atom-feed"><span>&nbsp;</span>Feed</a></li></ul></div></div><main class="single-post"><div id="content"><article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting"><h3 class="headline" itemprop="headline"><a class="nunito" href="/posts/2018-10-25_disable_mu4e_html_over_plain_text_heuristic.html" itemprop="url">Disable MU4E 'HTML over plain text' heuristic</a></h3><div class="subheader"><p class="post-meta"><time itemprop="datePublished">2018-10-25</time> - <span itemprop="wordCount">279</span> words - <span itemprop="timeRequired">2</span> min read</p><div class="byline"><img class="author-icon" src="/img/author.svg"><section class="author" itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="name">Alain M. Lafon</span></section></div></div><span itemprop="image" itemscope itemtype="https://schema.org/ImageObject"><meta content="190" itemprop="height"><meta content="349" itemprop="width"><meta content="https://200ok.ch/img/logo.png" itemprop="url"></span><div><div class="article-body" itemprop="articleBody"><p>By default, the great Mail User Agent <a href="https://github.com/djcb/mu/">MU4E</a> prefers Plain Text mails over HTML. This configuration can be overridden via <code>mu4e-view-prefer-html</code>, but there’s probably few of us who would do that.</p>
<p>However, you might still see a whole lot of HTML emails. And when you check if they have a plain text version, they might have one! There’s a reason for that. MU4E has a ‘HTML over plain text’ heuristic with this official rationale:</p>
<blockquote>
<p>Ratio between the length of the html and the plain text part below which mu4e will consider the plain text part to be ‘This messages requires html’ text bodies. You can neutralize it (always show the text version) by using `most-positive-fixnum’.</p>
</blockquote>
<p>This heuristic overwrites the default setting (and configuration) that Plain text should be preferred over HTML!</p>
<p>In my experience, HTML Emails are <em>WAY</em> longer than only 5x the Plain text (Doodle, Airbnb, Meetup, etc), so this will yield me a lot of false positives whereas I have never seen a “This message requires HTML” body. Since I realized that MU4E has this heuristic, I overrode it just like the doc string told me to and am an even happier MU4E user.</p>
<pre><code>(setq mu4e-view-html-plaintext-ratio-heuristic most-positive-fixnum)</code></pre>
<p>NB, if you want to be able to read HTML emails, that’s totally and 100% supported within MU4E! You can render them as:</p>
<ul>
<li>Text within a regular Emacs buffer</li>
<li>PDF within a regular Emacs buffer - complete with styles and all</li>
<li>Open the email in a browser through a shortcut</li>
</ul>
<p>For these and other goodies in MU4E, please have a look at my configuration: https://github.com/munen/emacs.d/#mu4e</p>
</div><div class="tags"><img class="tag-icon" src="/img/tag.svg"><ul itemprop="keywords"><li class="category"><a href="/category/emacs.html">Emacs</a></li><li class="tag"><a href="/tags/mu4e.html">#mu4e</a></li></ul></div></div></article></div></main><footer><div itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><div class="name" itemprop="name">200ok GmbH</div><div itemprop="address" itemscope itemtype="https://schema.org/PostalAddress"><a href="https://goo.gl/maps/GNAoiNF7mbL2" title="View on Google Maps"><div itemprop="streetAddress">Badenerstrasse 313</div><div><span itemprop="postalCode">8003</span> <span itemprop="addressLocality">Zürich</span></div></a></div><div itemprop="telephone">+41 76 405 05 67</div><div itemprop="email"><a href="mailto:info@200ok.ch">info@200ok.ch</a></div><img itemprop="logo" src="https://200ok.ch/img/200ok.svg"></div></footer><div class="scripts" style="{:display &quot;none&quot;}"><script src="/js/vendor/bowser.min.js"></script><script async src="/js/ie_safeguard.js"></script><script async src="/js/tour.js"></script><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>tour=null</script></div></body></html>